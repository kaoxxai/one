<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中山永續投資策略瀏覽器</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        .iframe-container {
            min-height: 65vh;
        }
        /* 玻璃擬態背景 */
        .glass-panel {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body class="flex flex-col min-h-screen bg-slate-100 font-sans text-slate-800">

    <!-- 頁首 -->
    <header class="bg-white border-b border-slate-200 sticky top-0 z-50">
        <div class="container mx-auto px-4 h-16 flex items-center justify-between">
            <div class="flex items-center space-x-3">
                <div class="bg-blue-600 p-2 rounded-lg text-white">
                    <i data-lucide="layout-dashboard" class="w-5 h-5"></i>
                </div>
                <div>
                    <h1 class="font-bold text-lg leading-tight">中山永續金融科技</h1>
                    <p class="text-xs text-slate-500">量化投資策略儀表板</p>
                </div>
            </div>
            
            <!-- 狀態指示器 -->
            <div class="flex items-center space-x-2 text-sm">
                <span class="flex h-3 w-3 relative">
                    <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-3 w-3 bg-green-500"></span>
                </span>
                <span class="text-slate-600 hidden sm:inline">系統就緒</span>
            </div>
        </div>
    </header>

    <!-- 主要內容 -->
    <main class="flex-grow container mx-auto px-4 py-6 flex flex-col">
        
        <!-- 瀏覽器視窗容器 -->
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden flex flex-col flex-grow border border-slate-200 iframe-container relative">
            
            <!-- 網址列/工具列 -->
            <div class="bg-slate-50 border-b border-slate-200 p-3 flex items-center space-x-3">
                <!-- 視窗控制點 -->
                <div class="flex space-x-1.5 mr-2">
                    <div class="w-3 h-3 rounded-full bg-red-400 hover:bg-red-500 transition-colors cursor-pointer" title="關閉"></div>
                    <div class="w-3 h-3 rounded-full bg-yellow-400 hover:bg-yellow-500 transition-colors cursor-pointer" title="最小化"></div>
                    <div class="w-3 h-3 rounded-full bg-green-400 hover:bg-green-500 transition-colors cursor-pointer" title="最大化"></div>
                </div>

                <!-- 模擬網址輸入框 -->
                <div class="flex-grow bg-white border border-slate-300 rounded-lg px-3 py-1.5 text-sm text-slate-600 flex items-center shadow-sm">
                    <i data-lucide="shield-check" class="w-4 h-4 mr-2 text-green-600"></i>
                    <span class="truncate select-all font-mono">https://www.aifinsys.com</span>
                </div>

                <!-- (已刪除工具按鈕區塊) -->
            </div>

            <!-- 內容顯示區域 -->
            <div class="relative flex-grow bg-slate-100 overflow-hidden group">
                
                <!-- 1. 預設啟動面板 -->
                <div id="launch-panel" class="absolute inset-0 flex flex-col items-center justify-center z-20 glass-panel p-6 text-center transition-all duration-500 overflow-y-auto">
                    <div class="bg-white p-4 rounded-full shadow-lg mb-4 ring-4 ring-blue-50 shrink-0">
                        <img src="https://www.gstatic.com/lamda/images/gemini_sparkle_v002_d4735304ff6292a690345.svg" alt="Gemini Logo" class="w-12 h-12">
                    </div>
                    <h2 class="text-xl font-bold text-slate-800 mb-2">量化策略選擇</h2>
                    <p class="text-slate-500 max-w-md mb-6 text-sm">
                        點擊下方按鈕以獨立視窗服務。
                    </p>

                    <!-- 8個按鍵的 Grid 佈局 -->
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3 w-full max-w-4xl">
                        <!-- 按鍵 1 -->
                        <div class="flex flex-col items-center justify-between p-4 bg-white hover:bg-blue-50 border border-slate-200 hover:border-blue-300 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 group">
                            <!-- 修改：onclick 加入網址參數 -->
                            <button onclick="openPopup('https://aifinsys.com/1119V5')" class="flex flex-col items-center w-full mb-2 focus:outline-none">
                                <div class="bg-blue-100 text-blue-600 p-3 rounded-full mb-2 group-hover:scale-110 transition-transform">
                                    <i data-lucide="app-window" class="w-5 h-5"></i>
                                </div>
                                <span class="text-sm font-semibold text-slate-700 group-hover:text-blue-700">策略 1</span>
                            </button>
                            <a href="https://aifinsys.com/1119V5" target="_blank" class="text-xs text-slate-400 hover:text-blue-600 w-full text-center pt-2 border-t border-slate-100 transition-colors flex items-center justify-center" title="AI 量化投資組合生成器(V5)e">
                                <i data-lucide="search" class="w-3 h-3 mr-1"></i>AI 量化投資組合生成器(V5)
                            </a>
                        </div>

                        <!-- 按鍵 2 -->
                        <div class="flex flex-col items-center justify-between p-4 bg-white hover:bg-blue-50 border border-slate-200 hover:border-blue-300 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 group">
                            <button onclick="openPopup('https://aifinsys.com/q900.html')" class="flex flex-col items-center w-full mb-2 focus:outline-none">
                                <div class="bg-indigo-100 text-indigo-600 p-3 rounded-full mb-2 group-hover:scale-110 transition-transform">
                                    <i data-lucide="monitor" class="w-5 h-5"></i>
                                </div>
                                <span class="text-sm font-semibold text-slate-700 group-hover:text-indigo-700">策略 2</span>
                            </button>
                            <a href="https://aifinsys.com/q900.html" target="_blank" class="text-xs text-slate-400 hover:text-indigo-600 w-full text-center pt-2 border-t border-slate-100 transition-colors flex items-center justify-center" title="ABCD量化">
                                <i data-lucide="search" class="w-3 h-3 mr-1"></i>ABCD量化策略生成器
                            </a>
                        </div>

                        <!-- 按鍵 3 -->
                        <div class="flex flex-col items-center justify-between p-4 bg-white hover:bg-blue-50 border border-slate-200 hover:border-blue-300 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 group">
                            <button onclick="openPopup('https://aifinsys.com/q1117a')" class="flex flex-col items-center w-full mb-2 focus:outline-none">
                                <div class="bg-cyan-100 text-cyan-600 p-3 rounded-full mb-2 group-hover:scale-110 transition-transform">
                                    <i data-lucide="globe" class="w-5 h-5"></i>
                                </div>
                                <span class="text-sm font-semibold text-slate-700 group-hover:text-cyan-700">策略 3</span>
                            </button>
                            <a href="https://aifinsys.com/q1117a" target="_blank" class="text-xs text-slate-400 hover:text-cyan-600 w-full text-center pt-2 border-t border-slate-100 transition-colors flex items-center justify-center" title="Smart Beta">
                                <i data-lucide="search" class="w-3 h-3 mr-1"></i>另類因子量化策略分析
                            </a>
                        </div>

                        <!-- 按鍵 4 -->
                        <div class="flex flex-col items-center justify-between p-4 bg-white hover:bg-blue-50 border border-slate-200 hover:border-blue-300 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 group">
                            <button onclick="openPopup('https://aifinsys.com/pl1117')" class="flex flex-col items-center w-full mb-2 focus:outline-none">
                                <div class="bg-teal-100 text-teal-600 p-3 rounded-full mb-2 group-hover:scale-110 transition-transform">
                                    <i data-lucide="message-square" class="w-5 h-5"></i>
                                </div>
                                <span class="text-sm font-semibold text-slate-700 group-hover:text-teal-700">策略 4</span>
                            </button>
                            <a href="https://aifinsys.com/pl1117" target="_blank" class="text-xs text-slate-400 hover:text-teal-600 w-full text-center pt-2 border-t border-slate-100 transition-colors flex items-center justify-center" title="Peter Lynch">
                                <i data-lucide="search" class="w-3 h-3 mr-1"></i>Peter Lynch 選股分析
                            </a>
                        </div>

                         <!-- 按鍵 5 -->
                         <div class="flex flex-col items-center justify-between p-4 bg-white hover:bg-blue-50 border border-slate-200 hover:border-blue-300 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 group">
                            <button onclick="openPopup('https://aifinsys.com/bu1117')" class="flex flex-col items-center w-full mb-2 focus:outline-none">
                                <div class="bg-emerald-100 text-emerald-600 p-3 rounded-full mb-2 group-hover:scale-110 transition-transform">
                                    <i data-lucide="sparkles" class="w-5 h-5"></i>
                                </div>
                                <span class="text-sm font-semibold text-slate-700 group-hover:text-emerald-700">策略 5</span>
                            </button>
                            <a href="https://aifinsys.com/bu1117" target="_blank" class="text-xs text-slate-400 hover:text-emerald-600 w-full text-center pt-2 border-t border-slate-100 transition-colors flex items-center justify-center" title="Warren Buffette">
                                <i data-lucide="search" class="w-3 h-3 mr-1"></i>Warren Buffett 選股分析
                            </a>
                        </div>

                        <!-- 按鍵 6 -->
                        <div class="flex flex-col items-center justify-between p-4 bg-white hover:bg-blue-50 border border-slate-200 hover:border-blue-300 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 group">
                            <button onclick="openPopup('https://aifinsys.com/bg1117')" class="flex flex-col items-center w-full mb-2 focus:outline-none">
                                <div class="bg-orange-100 text-orange-600 p-3 rounded-full mb-2 group-hover:scale-110 transition-transform">
                                    <i data-lucide="zap" class="w-5 h-5"></i>
                                </div>
                                <span class="text-sm font-semibold text-slate-700 group-hover:text-orange-700">策略 6</span>
                            </button>
                            <a href="https://aifinsys.com/bg1117" target="_blank" class="text-xs text-slate-400 hover:text-orange-600 w-full text-center pt-2 border-t border-slate-100 transition-colors flex items-center justify-center" title="Benjamin Graham">
                                <i data-lucide="search" class="w-3 h-3 mr-1"></i>Benjamin Graham 選股分析
                            </a>
                        </div>

                        <!-- 按鍵 7 -->
                        <div class="flex flex-col items-center justify-between p-4 bg-white hover:bg-blue-50 border border-slate-200 hover:border-blue-300 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 group">
                            <button onclick="openPopup('https://aifinsys.com/1118a')" class="flex flex-col items-center w-full mb-2 focus:outline-none">
                                <div class="bg-rose-100 text-rose-600 p-3 rounded-full mb-2 group-hover:scale-110 transition-transform">
                                    <i data-lucide="heart" class="w-5 h-5"></i>
                                </div>
                                <span class="text-sm font-semibold text-slate-700 group-hover:text-rose-700">型態 1</span>
                            </button>
                            <a href="https://aifinsys.com/1118a" target="_blank" class="text-xs text-slate-400 hover:text-rose-600 w-full text-center pt-2 border-t border-slate-100 transition-colors flex items-center justify-center" title="K線型態">
                                <i data-lucide="search" class="w-3 h-3 mr-1"></i>經典K線型態 1-18 完整圖解
                            </a>
                        </div>

                        <!-- 按鍵 8 -->
                        <div class="flex flex-col items-center justify-between p-4 bg-white hover:bg-blue-50 border border-slate-200 hover:border-blue-300 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 group">
                            <button onclick="openPopup('https://aifinsys.com/1118e')" class="flex flex-col items-center w-full mb-2 focus:outline-none">
                                <div class="bg-violet-100 text-violet-600 p-3 rounded-full mb-2 group-hover:scale-110 transition-transform">
                                    <i data-lucide="star" class="w-5 h-5"></i>
                                </div>
                                <span class="text-sm font-semibold text-slate-700 group-hover:text-violet-700">Patterns</span>
                            </button>
                            <a href="https://aifinsys.com/1118e" target="_blank" class="text-xs text-slate-400 hover:text-violet-600 w-full text-center pt-2 border-t border-slate-100 transition-colors flex items-center justify-center" title="Candlestick Patterns">
                                <i data-lucide="search" class="w-3 h-3 mr-1"></i>Classic Candlestick Patterns
                            </a>
                        </div>
                    </div>
                </div>

                <!-- 2. 實際 Iframe (預設隱藏) -->
                <iframe 
                    id="content-frame"
                    src="" 
                    class="absolute inset-0 w-full h-full bg-white opacity-0 transition-opacity duration-500"
                    sandbox="allow-same-origin allow-scripts allow-popups allow-forms"
                    title="Content Frame">
                </iframe>
                
                <!-- 讀取動畫 -->
                <div id="loader" class="absolute inset-0 flex items-center justify-center bg-slate-50 z-10 hidden">
                    <div class="flex flex-col items-center">
                        <i data-lucide="loader-2" class="w-8 h-8 animate-spin text-blue-600 mb-2"></i>
                        <span class="text-sm text-slate-500">正在嘗試連線...</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 底部提示 -->
        <div class="mt-4 text-center">
            <p class="text-xs text-slate-400 flex items-center justify-center">
                <i data-lucide="lock" class="w-3 h-3 mr-1"></i>
                內容受 Google (CSP) 保護中，導出獨立視窗瀏覽。
            </p>
        </div>

    </main>

    <!-- 頁尾 -->
    <footer class="bg-white border-t border-slate-200">
        <div class="container mx-auto px-4 py-6">
            <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                <span class="text-sm text-slate-500">© 2025 Ai Fintech Corp.</span>
                <a href="https://www.aifinsys.com" target="_blank" class="flex items-center text-sm font-medium text-blue-600 hover:text-blue-800 transition-colors">
                    <span>前往 AiFinsys 首頁</span>
                    <i data-lucide="arrow-right" class="w-4 h-4 ml-1"></i>
                </a>
            </div>
        </div>
    </footer>

    <script>
        // 初始化圖示
        lucide.createIcons();

        // 預設網址 (作為備用)
        const defaultUrl = "https://gemini.google.com/app";
        
        const frame = document.getElementById('content-frame');
        const panel = document.getElementById('launch-panel');
        const loader = document.getElementById('loader');

        // 解決方案 1: 彈出獨立視窗
        // 現在接收一個 url 參數，如果未提供則使用預設值
        function openPopup(url) {
            const target = url || defaultUrl;
            
            // 寬高設定為常見的平板/桌面大小
            const width = 1024;
            const height = 800;
            const left = (screen.width - width) / 2;
            const top = (screen.height - height) / 2;
            
            window.open(
                target, 
                'GeminiViewer', 
                `width=${width},height=${height},top=${top},left=${left},menubar=no,toolbar=no,location=no,status=no`
            );
        }

        function refreshPage() {
            if(!frame.classList.contains('opacity-0')) {
                frame.src = frame.src;
            } else {
                window.location.reload();
            }
        }
    </script>
</body>
</html>
