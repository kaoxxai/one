<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1"> 
  <title>Kao88 èª²ç¨‹è³‡æ–™åˆ†é¡ç€è¦½å™¨</title>
  <style>
    :root{
      --bg: #F0F4F8;
      --card: #ffffff;
      --primary: #4F46E5; /* Indigo */
      --primary-hover: #4338ca;
      --success: #10b981;
      --danger: #ef4444;
      --text: #1f2937;
      --muted: #6b7280;
      --border: #e5e7eb;
      --radius: 12px;
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --maxW: 1200px;
    }
    
    * { box-sizing: border-box; outline: none; }
    body {
      margin: 0;
      font-family: 'Noto Sans TC', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.5;
    }

    /* Layout Container */
    .wrap { max-width: var(--maxW); margin: 0 auto; padding: 20px; min-height: 100vh; display: flex; flex-direction: column; }

    /* Header */
    header {
      background: var(--card);
      padding: 20px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 24px;
    }
    .header-info h1 { margin: 0; font-size: 1.25rem; color: var(--primary); font-weight: 700; }
    .header-info p { margin: 4px 0 0; color: var(--muted); font-size: 0.9rem; }
    
    .search-box { position: relative; width: 100%; max-width: 300px; }
    .search-box input {
      width: 100%;
      padding: 10px 16px;
      padding-left: 40px;
      border-radius: 99px;
      border: 1px solid var(--border);
      background: #f9fafb;
      transition: all 0.2s;
    }
    .search-box input:focus { border-color: var(--primary); background: #fff; box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); }
    .search-icon { position: absolute; left: 14px; top: 50%; transform: translateY(-50%); color: var(--muted); }

    /* Main Layout */
    .layout { display: flex; gap: 24px; flex: 1; }
    
    /* Sidebar */
    nav.side {
      width: 240px;
      flex-shrink: 0;
      background: var(--card);
      padding: 16px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      height: fit-content;
      max-height: 80vh;
      overflow-y: auto;
    }
    nav.side h3 { margin: 0 0 12px 8px; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.05em; color: var(--muted); }
    nav.side ul { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 4px; }
    nav.side li {
      padding: 10px 14px;
      border-radius: 8px;
      cursor: pointer;
      color: var(--text);
      font-weight: 500;
      transition: all 0.2s;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    nav.side li:hover { background: #eff6ff; color: var(--primary); }
    nav.side li.active { background: var(--primary); color: white; box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3); }
    nav.side li .badge { 
      opacity: 0.8; 
      font-size: 0.75em; 
      background: rgba(255,255,255,0.2); 
      padding: 2px 6px; 
      border-radius: 99px; 
      color: inherit;
    }
    nav.side li:not(.active) .badge {
      background: #f3f4f6;
      color: var(--muted);
    }

    /* Main Content */
    main { flex: 1; min-width: 0; }
    
    /* Toolbar */
    .toolbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: var(--card);
      padding: 12px 20px;
      border-radius: var(--radius);
      margin-bottom: 20px;
      box-shadow: var(--shadow);
      flex-wrap: wrap;
      gap: 12px;
    }
    .cat-title { font-weight: 700; font-size: 1.1rem; color: var(--text); display: flex; align-items: center; gap: 8px; }
    
    /* Admin Panel (Hidden by default) */
    #adminPanel {
      background: white;
      border: 2px dashed var(--primary);
      border-radius: var(--radius);
      padding: 20px;
      margin-bottom: 24px;
      display: none; /* Toggled via JS */
      position: relative;
    }
    #adminPanel.show { display: block; animation: slideDown 0.3s ease-out; }
    @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

    .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px; }
    .form-grid.full { grid-template-columns: 1fr; }

    .export-zone {
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px dashed var(--border);
      background: #f0fdf4;
      margin: 20px -20px -20px -20px;
      padding: 15px 20px;
      border-bottom-left-radius: var(--radius);
      border-bottom-right-radius: var(--radius);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    /* Cards Grid */
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
    
    .card {
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      transition: transform 0.2s, box-shadow 0.2s;
      position: relative;
      border: 1px solid transparent;
    }
    .card:hover { transform: translateY(-4px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); border-color: #e5e7eb; }
    
    .card-body { padding: 16px; flex: 1; display: flex; gap: 12px; }
    
    /* Image Handling */
    .card-img { width: 60px; height: 60px; border-radius: 8px; object-fit: cover; flex-shrink: 0; background: #f3f4f6; }
    .emoji-icon { display: flex; align-items: center; justify-content: center; font-size: 32px; background: #f3f4f6; cursor: default; }

    .card-content { flex: 1; min-width: 0; }
    .card-content h4 { margin: 0 0 4px; font-size: 1rem; color: var(--text); font-weight: 700; line-height: 1.3; }
    .card-content p { margin: 0; font-size: 0.85rem; color: var(--muted); display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; line-height: 1.4; }
    
    .card-foot {
      padding: 12px 16px;
      background: #f9fafb;
      border-top: 1px solid var(--border);
      display: flex;
      gap: 8px;
    }

    /* Buttons */
    .btn {
      padding: 8px 16px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 500;
      transition: all 0.2s;
      display: inline-flex; align-items: center; justify-content: center; gap: 6px;
    }
    .btn-sm { padding: 6px 12px; font-size: 0.85rem; }
    .btn.primary { background: var(--primary); color: #fff; }
    .btn.primary:hover { background: var(--primary-hover); }
    .btn.success { background: var(--success); color: #fff; }
    .btn.success:hover { background: #059669; }
    .btn.ghost { background: transparent; color: var(--muted); border: 1px solid var(--border); }
    .btn.ghost:hover { border-color: var(--muted); color: var(--text); background: white; }
    .btn.danger { background: #fee2e2; color: var(--danger); }
    .btn.danger:hover { background: #fecaca; }

    /* Inputs */
    input.form-input { width: 100%; padding: 8px 12px; border: 1px solid var(--border); border-radius: 6px; }

    /* Checkbox for delete */
    .del-check {
      position: absolute;
      top: 10px;
      right: 10px;
      width: 20px;
      height: 20px;
      cursor: pointer;
      display: none; /* Hidden unless in admin mode */
      accent-color: var(--danger);
      z-index: 10;
    }
    body.admin-mode .del-check { display: block; }
    body.admin-mode .card { border: 1px dashed var(--primary); }

    /* Footer */
    footer { margin-top: auto; padding-top: 40px; text-align: center; color: var(--muted); font-size: 0.9rem; padding-bottom: 20px;}
    
    /* Responsive */
    @media (max-width: 900px) {
      .layout { flex-direction: column; }
      nav.side { 
        width: 100%; 
        max-height: none; 
        display: flex; 
        align-items: center; 
        gap: 10px; 
        overflow-x: auto; 
        padding-bottom: 12px;
        background: transparent;
        box-shadow: none;
        padding: 0;
      }
      nav.side h3 { display: none; }
      nav.side ul { 
        flex-direction: row; 
        flex: 1; 
        gap: 8px;
        padding-bottom: 4px; /* for scrollbar spacing */
      }
      nav.side li { 
        white-space: nowrap; 
        flex-shrink: 0; 
        background: var(--card);
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        border: 1px solid var(--border);
      }
      nav.side li.active {
        border-color: var(--primary);
      }
    }
    @media (max-width: 600px) {
      .grid { grid-template-columns: 1fr; }
      .form-grid { grid-template-columns: 1fr; }
      header { flex-direction: column; align-items: stretch; }
      .search-box { max-width: none; }
      .export-zone { flex-direction: column; gap: 10px; text-align: center; }
      
      /* Make toolbar buttons stack better on small screens */
      .toolbar { gap: 12px; flex-direction: column; align-items: stretch; }
      .toolbar > div:last-child { justify-content: space-between; width: 100%; }
      .cat-title { justify-content: center; }
    }
  </style>
</head>
<body>

<div class="wrap">
  <!-- Header -->
  <header>
    <div class="header-info">
      <h1>Kao88 èª²ç¨‹è³‡æ–™åˆ†é¡ç€è¦½å™¨</h1>
      <p>é›†ä¸­ç®¡ç†ç¶²ç«™è³‡æºï¼Œæ”¯æ´å¿«é€Ÿæœå°‹èˆ‡è‡ªè¨‚æ“´å……ã€‚</p>
    </div>
    <div class="search-box">
      <span class="search-icon">ğŸ”</span>
      <input id="globalSearch" type="text" placeholder="æœå°‹ç¶²ç«™åç¨±æˆ–èªªæ˜..." aria-label="æœå°‹">
    </div>
  </header>

  <div class="layout">
    <!-- Sidebar Navigation -->
    <nav class="side">
      <h3>è³‡æºåˆ†é¡</h3>
      <ul id="categoryList">
        <!-- Categories injected via JS -->
      </ul>
    </nav>

    <!-- Main Content -->
    <main>
      <div class="toolbar">
        <div class="cat-title" id="categoryTitle">è¼‰å…¥ä¸­...</div>
        <div style="display:flex; gap:8px;">
          <button class="btn ghost btn-sm" id="btnToggleAdmin">âš™ï¸ ç®¡ç†æ¨¡å¼</button>
          <button class="btn ghost btn-sm" id="btnReset" title="é‡è¨­å›åŸå§‹çœŸå¯¦è³‡æ–™">â†º é‡è¨­è³‡æ–™</button>
        </div>
      </div>

      <!-- Admin Panel (Add New Item) -->
      <section id="adminPanel">
        <h4 style="margin:0 0 12px 0; color:var(--primary);">æ–°å¢é …ç›®è‡³æ­¤åˆ†é¡</h4>
        <div class="form-grid">
          <input id="newTitle" class="form-input" placeholder="ç¶²ç«™æ¨™é¡Œ (å¿…å¡«)">
          <input id="newUrl" class="form-input" placeholder="ç¶²å€ URL (å¿…å¡«)">
        </div>
        <div class="form-grid full">
          <input id="newDesc" class="form-input" placeholder="ç°¡çŸ­æè¿°">
        </div>
        <div class="form-grid full">
          <input id="newThumb" class="form-input" placeholder="ç¸®åœ–ç¶²å€æˆ– Emoji (ä¾‹å¦‚: ğŸ”—)">
        </div>
        <div style="display:flex; justify-content:space-between; margin-top:12px;">
          <button class="btn danger btn-sm" id="btnDeleteSelected">ğŸ—‘ï¸ åˆªé™¤å‹¾é¸é …ç›®</button>
          <button class="btn primary" id="btnAdd">ï¼‹ ç¢ºèªæ–°å¢</button>
        </div>

        <!-- Export Zone -->
        <div class="export-zone">
          <div style="font-size:0.9rem; color:#065f46;">
            <strong>ğŸš€ ä¸€éµæ‰“åŒ…ï¼š</strong><br>
            æ–°å¢å®Œç•¢å¾Œï¼Œé»æ“Šæ­¤æŒ‰éˆ•å¯ç”ŸæˆåŒ…å«æœ€æ–°è³‡æ–™çš„ç¨ç«‹ HTML æª”ã€‚
          </div>
          <button class="btn success" id="btnExportHtml">ğŸ“¥ åŒ¯å‡ºç¨ç«‹ HTML</button>
        </div>
      </section>

      <!-- Cards Area -->
      <div id="cardGrid" class="grid">
        <!-- Cards injected via JS -->
      </div>
    </main>
  </div>

  <footer>
    <p>&copy; 2025 Kao88 èª²ç¨‹è³‡æ–™åˆ†é¡ç³»çµ± V1.0 </p>
  </footer>
</div>

<script>
  /* -------------------------------------------
     1. Data Structure & Initialization
     ------------------------------------------- */
  // æ”¹å Key ä»¥é¿å…èˆ‡èˆŠç‰ˆæœ¬è³‡æ–™æ ¼å¼è¡çª
  const STORAGE_KEY = 'course_browser_real_data_v3_fixed';
  
  // åŸå§‹çœŸå¯¦è³‡æ–™ (å®Œæ•´æ•´åˆ CSV å…§å®¹)
  // æ³¨æ„ï¼šè«‹å‹¿ç§»é™¤ä¸‹æ–¹çš„ [[DATA_START]] å’Œ [[DATA_END]] è¨»è§£ï¼Œé€™æ˜¯åŒ¯å‡ºåŠŸèƒ½çš„é‡è¦æ¨™è¨˜
  const REAL_DATA_SOURCE = /* [[DATA_START]] */ {
    "Web App": [
        {
            "title": "è²¡ç¶“è©å½™äº’å‹•æ•™å­¸",
            "url": "https://aifinsys.com/1127",
            "desc": "ã€Œè²¡ç¶“è©å½™äº’å‹•æ•™å­¸ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“ˆ"
        },
        {
            "title": "ESG è©å½™å­¸ç¿’ç¶²",
            "url": "https://aifinsys.com/1127esg",
            "desc": "ã€ŒESG è©å½™å­¸ç¿’ç¶²ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“™"
        },
        {
            "title": "å°æŒ‡æœŸæˆ°æƒ…å®¤",
            "url": "https://aifinsys.com/1126v2",
            "desc": "ã€Œå°æŒ‡æœŸæˆ°æƒ…å®¤ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“•"
        },
        {
            "title": "å¾®è§€å™ªéŸ³èˆ‡éåº¦æ“¬åˆå°é‡åŒ–ç­–ç•¥çš„è‡´å‘½å½±éŸ¿",
            "url": "https://aifinsys.com/1126wp1",
            "desc": "ã€Œå¾®è§€å™ªéŸ³èˆ‡éåº¦æ“¬åˆå°é‡åŒ–ç­–ç•¥çš„è‡´å‘½å½±éŸ¿ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "âœ¨"
        },
        {
            "title": "é‡åŒ–ç­–ç•¥æŠ—å™ªæ¡†æ¶èˆ‡å›æ¸¬é©—è­‰ç³»çµ± v2.0",
            "url": "https://aifinsys.com/1127wpp",
            "desc": "ã€Œé‡åŒ–ç­–ç•¥æŠ—å™ªæ¡†æ¶èˆ‡å›æ¸¬é©—è­‰ç³»çµ± v2.0ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“˜"
        },
        {
            "title": "æŠ•è³‡å› å­é‡åŒ–åˆ†æèˆ‡å°è‚¡å¯¦æˆ°",
            "url": "https://aifinsys.com/1124",
            "desc": "ã€ŒæŠ•è³‡å› å­é‡åŒ–åˆ†æèˆ‡å°è‚¡å¯¦æˆ°ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“‰"
        },
        {
            "title": "å°æŒ‡æœŸç­–ç•¥æ¨¡æ“¬å¯¦é©—å®¤",
            "url": "https://aifinsys.com/1123",
            "desc": "ã€Œå°æŒ‡æœŸç­–ç•¥æ¨¡æ“¬å¯¦é©—å®¤ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ““"
        },
        {
            "title": "é‡åŒ–æŠ•è³‡ç­–ç•¥å„€è¡¨æ¿",
            "url": "https://aifinsys.com/1120a",
            "desc": "ã€Œé‡åŒ–æŠ•è³‡ç­–ç•¥å„€è¡¨æ¿ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“š"
        },
        {
            "title": "ç¶“å…¸Kç·šå‹æ…‹ 1-18 å®Œæ•´åœ–è§£",
            "url": "https://aifinsys.com/1118a",
            "desc": "ã€Œç¶“å…¸Kç·šå‹æ…‹ 1-18 å®Œæ•´åœ–è§£ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ’¡"
        },
        {
            "title": "å°å‹å°æŒ‡æœŸè²¨ 2:1 ç›ˆè™§æ¯” (Collar) ç­–ç•¥",
            "url": "https://aifinsys.com/qa/Collar",
            "desc": "ã€Œå°å‹å°æŒ‡æœŸè²¨ 2:1 ç›ˆè™§æ¯” (Collar) ç­–ç•¥ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“Š"
        },
        {
            "title": "Markdown 2 PDF",
            "url": "https://aifinsys.com/md2pdf/",
            "desc": "ã€ŒMarkdown 2 PDFã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“—"
        },
        {
            "title": "ä¸ƒç·šçªç ´/è·Œç ´ æ™ºèƒ½è¨ºæ–·ç³»çµ±",
            "url": "https://gemini.google.com/share/e60de0ea2766",
            "desc": "ã€Œä¸ƒç·šçªç ´/è·Œç ´ æ™ºèƒ½è¨ºæ–·ç³»çµ±ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“”"
        },
        {
            "title": "å°ç£è‚¡ç¥¨æ•¸æ“šä¸‹è¼‰å™¨ (Webç‰ˆ)",
            "url": "https://gemini.google.com/share/4d3c0dfcd951",
            "desc": "ã€Œå°ç£è‚¡ç¥¨æ•¸æ“šä¸‹è¼‰å™¨ (Webç‰ˆ)ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“"
        },
        {
            "title": "AlphaEngine: å¤šå› å­æŠ•è³‡çµ„åˆå¯¦é©—å®¤",
            "url": "https://gemini.google.com/share/162284e72094",
            "desc": "ã€ŒAlphaEngine: å¤šå› å­æŠ•è³‡çµ„åˆå¯¦é©—å®¤ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ—‚ï¸"
        }
    ],
    "æç¤ºè©ç”Ÿæˆå™¨": [
        
        {
            "title": "é‡åŒ–ç­–ç•¥ç”Ÿæˆå™¨(A+B+C+D) æ¡†æ¶ ",
            "url": "https://aifinsys.com/q900",
            "desc": "ã€Œé‡åŒ–ç­–ç•¥ç”Ÿæˆå™¨(A+B+C+D) æ¡†æ¶ ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“‰"
        },
        {
            "title": "å¦é¡å› å­ (Smart Beta) é‡åŒ–ç­–ç•¥åˆ†æ",
            "url": "https://aifinsys.com/q1117a",
            "desc": "ã€Œå¦é¡å› å­ (Smart Beta) é‡åŒ–ç­–ç•¥åˆ†æã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“˜"
        },
        {
            "title": "AiFinTech é‡åŒ– - å…¨æ–¹ä½é¢¨éšªé›·é”ç”Ÿæˆå™¨",
            "url": "https://aifinsys.com/q1116",
            "desc": "ã€ŒAiFinTech é‡åŒ– - å…¨æ–¹ä½é¢¨éšªé›·é”ç”Ÿæˆå™¨ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“ˆ"
        },
        {
            "title": "å½¼å¾—Â·æ—å€ (Peter Lynch) é¸è‚¡åˆ†æ",
            "url": "https://aifinsys.com/pl1117",
            "desc": "ã€Œå½¼å¾—Â·æ—å€ (Peter Lynch) é¸è‚¡åˆ†æã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“”"
        },
        {
            "title": "è‘›æ‹‰æ¼¢ (Benjamin Graham) åƒ¹å€¼æŠ•è³‡åˆ†æ",
            "url": "https://aifinsys.com/bg1117",
            "desc": "ã€Œè‘›æ‹‰æ¼¢ (Benjamin Graham) åƒ¹å€¼æŠ•è³‡åˆ†æã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“”"
        },
        {
            "title": "å·´è²ç‰¹ (Warren Buffett) åƒ¹å€¼æŠ•è³‡åˆ†æ",
            "url": "https://aifinsys.com/bu1117",
            "desc": "ã€Œå·´è²ç‰¹ (Warren Buffett) åƒ¹å€¼æŠ•è³‡åˆ†æã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ’¡"
        },
        {
            "title": "å•†ç”¨è³‡è¨Šåœ–è¡¨æç¤ºè©ç”Ÿæˆå™¨",
            "url": "https://aifinsys.com/1128ig",
            "desc": "24 ç¨®æœ€å¸¸ç”¨ä¹Ÿæœ€å¯¦ç”¨çš„è³‡è¨Šåœ–è¡¨æ’ç‰ˆé¡å‹ï¼ˆlayout structuresï¼‰ï¼Œä¸¦é™„ä¸Šçµ±ä¸€å¯ç”¨çš„ æç¤ºæ¡†æ¶æ¨¡æ¿ã€‚",
            "thumb": "ğŸš€"
        }
    ],
    "HTML PPT": [
        
        {
            "title": "HTMLç€è¦½å™¨",
            "url": "",
            "desc": "ã€ŒHTMLç€è¦½å™¨ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“‰"
        },
        {
            "title": "å¥‡é»é™è‡¨ï¼šAIé©…å‹•çš„æ¬¡ä¸–ä»£é‡åŒ–æŠ•è³‡é©å‘½",
            "url": "https://aifinsys.com/251012/",
            "desc": "ã€Œå¥‡é»é™è‡¨ï¼šAIé©…å‹•çš„æ¬¡ä¸–ä»£é‡åŒ–æŠ•è³‡é©å‘½ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“"
        },
        {
            "title": "æ©Ÿå™¨å­¸ç¿’å› å­åœ¨é‡åŒ–äº¤æ˜“ä¸­çš„æ ¸å¿ƒæ¼”ç®—æ³•",
            "url": "https://aifinsys.com/251017/",
            "desc": "ã€Œæ©Ÿå™¨å­¸ç¿’å› å­åœ¨é‡åŒ–äº¤æ˜“ä¸­çš„æ ¸å¿ƒæ¼”ç®—æ³•ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "âœ¨"
        },
        {
            "title": "AIé‡åŒ–äº¤æ˜“æ–°ç´€å…ƒï¼šå¾é›¶åˆ°ä¸€çš„ç­–ç•¥é©å‘½",
            "url": "https://aifinsys.com/20251031/",
            "desc": "ã€ŒAIé‡åŒ–äº¤æ˜“æ–°ç´€å…ƒï¼šå¾é›¶åˆ°ä¸€çš„ç­–ç•¥é©å‘½ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ—‚ï¸"
        },
        {
            "title": "AIé©…å‹•çš„æ™ºæ…§é¸è‚¡æµç¨‹",
            "url": "https://aifinsys.com/20251105/",
            "desc": "ã€ŒAIé©…å‹•çš„æ™ºæ…§é¸è‚¡æµç¨‹ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“—"
        },
        {
            "title": "é‡åŒ–æŠ•è³‡:å¾ç¶“é©—åˆ°æ•¸æ“šçš„æŠ•è³‡é©å‘½",
            "url": "https://aifinsys.com/20251106/",
            "desc": "ã€Œé‡åŒ–æŠ•è³‡:å¾ç¶“é©—åˆ°æ•¸æ“šçš„æŠ•è³‡é©å‘½ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“’"
        }
    ],
    "Colab é‹è¡Œå™¨": [
       
        {
            "title": "å…¨æ–¹ä½å€‹è‚¡åˆ†æå„€è¡¨æ¿ (Expert Ver.)",
            "url": "https://colab.research.google.com/drive/1XUCg6cdyEbuTpMtu-ZceodFgkK6voj2h",
            "desc": "ã€Œå…¨æ–¹ä½å€‹è‚¡åˆ†æå„€è¡¨æ¿ (Expert Ver.)ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ’¡"
        },
        {
            "title": "OpenBBè‡ªå‹•åŒ–çš„æŠ€è¡“æŒ‡æ¨™è¨ˆç®—èˆ‡ç¹ªåœ–ã€‚",
            "url": "https://colab.research.google.com/drive/1Hdf_J-CKLaDw32EoJVAmtQO66IOzfQuP",
            "desc": "ã€ŒOpenBBè‡ªå‹•åŒ–çš„æŠ€è¡“æŒ‡æ¨™è¨ˆç®—èˆ‡ç¹ªåœ–ã€‚ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“š"
        },
        {
            "title": "ã€Œä¿å®ˆç²åˆ©æ¨ç®—ã€èˆ‡ã€Œæ£„æ¯ä¿åƒ¹ã€",
            "url": "https://colab.research.google.com/drive/1CSyGaOEWFyL507xQmHp2oDG7hjIEWhG8",
            "desc": "ã€Œã€Œä¿å®ˆç²åˆ©æ¨ç®—ã€èˆ‡ã€Œæ£„æ¯ä¿åƒ¹ã€ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸš€"
        },
        {
            "title": "å°ç¾è‚¡ç¥¨çˆ¬èŸ²",
            "url": "https://colab.research.google.com/drive/14GqVze482eWO-2bM-9OMpYYFpSZ8S-yH",
            "desc": "ã€Œå°ç¾è‚¡ç¥¨çˆ¬èŸ²ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“˜"
        },
        {
            "title": "ä¸­åœ‹Aè‚¡çˆ¬èŸ²",
            "url": "https://colab.research.google.com/drive/14vu2_n_dsdsLEba0DN9ZnERyx81lVTk6",
            "desc": "ã€Œä¸­åœ‹Aè‚¡çˆ¬èŸ²ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“™"
        }
    ],
    "èª²ç¨‹æ¸¬é©—ä¸­å¿ƒ": [
        {
            "title": "æ°¸çºŒç™¼å±•èƒ½åŠ›é¡Œåº«",
            "url": "https://aifinsys.com/ESGC1/",
            "desc": "ã€Œæ°¸çºŒç™¼å±•èƒ½åŠ›é¡Œåº«ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“—"
        },
        {
            "title": "é«˜è³€å­¸ç¿’æ­·ç¨‹èè‹±ç­ å­¸å“¡ DISC æ¸¬é©—",
            "url": "https://aifinsys.com/aic/",
            "desc": "ã€Œé«˜è³€å­¸ç¿’æ­·ç¨‹èè‹±ç­ å­¸å“¡ DISC æ¸¬é©—ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“š"
        },
        {
            "title": "115 å­¸æ¸¬è‹±æ–‡ å­—å½™æŒ‘æˆ°",
            "url": "https://www.aimealo.com/gsateng",
            "desc": "ã€Œ115 å­¸æ¸¬è‹±æ–‡ å­—å½™æŒ‘æˆ°ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“’"
        },
        {
            "title": "å¤§å­¸å‚™å¯©è³‡æ–™æœå‹™ä¸­å¿ƒ",
            "url": "https://www.aimealo.com/115a01",
            "desc": "ã€Œå¤§å­¸å‚™å¯©è³‡æ–™æœå‹™ä¸­å¿ƒã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“—"
        }
    ],
    "èª²ç¨‹è³‡æ–™å½±ç‰‡": [
        {
            "title": "AI æ‡‰ç”¨ç­–ç•¥å¤§å…¬é–‹ï¼šé‡‹æ”¾ GPT èˆ‡ Gemini çš„çœŸæ­£åŠ›é‡",
            "url": "https://youtu.be/pD0OGKuUmuQ",
            "desc": "ã€ŒAI æ‡‰ç”¨ç­–ç•¥å¤§å…¬é–‹ï¼šé‡‹æ”¾ GPT èˆ‡ Gemini çš„çœŸæ­£åŠ›é‡ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“•"
        },
        {
            "title": "é‡åŒ–ç§‘å­¸ï¼šæˆ‘å€‘ä¸–ç•Œçš„å…±é€šèªè¨€",
            "url": "https://youtu.be/PcwR_HTD0kk",
            "desc": "ã€Œé‡åŒ–ç§‘å­¸ï¼šæˆ‘å€‘ä¸–ç•Œçš„å…±é€šèªè¨€ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ““"
        },
        {
            "title": "AI é‡åŒ–äº¤æ˜“ï¼šã€Œæ±Ÿæ©ç†è«–ã€èˆ‡äººå·¥æ™ºæ…§",
            "url": "https://youtu.be/5xWLroEwF7Y",
            "desc": "ã€ŒAI é‡åŒ–äº¤æ˜“ï¼šã€Œæ±Ÿæ©ç†è«–ã€èˆ‡äººå·¥æ™ºæ…§ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“ˆ"
        },
        {
            "title": "AI é©…å‹•çš„é‡åŒ–äº¤æ˜“ï¼šæ–°é‡‘èé©å‘½",
            "url": "https://youtu.be/rLZFUQsEUmA",
            "desc": "ã€ŒAI é©…å‹•çš„é‡åŒ–äº¤æ˜“ï¼šæ–°é‡‘èé©å‘½ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“’"
        },
        {
            "title": "é‡åŒ–åŸºé‡‘äº”å¤§æ ¸å¿ƒæ¼”ç®—æ³•",
            "url": "https://youtu.be/UP62in7S_LY",
            "desc": "ã€Œé‡åŒ–åŸºé‡‘äº”å¤§æ ¸å¿ƒæ¼”ç®—æ³•ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ““"
        },
        {
            "title": "Collarç­–ç•¥ï¼šå¦‚ä½•ä¿è­·ä½ çš„è‚¡ç¥¨ç²åˆ©",
            "url": "https://youtu.be/EwuBAz_j61I",
            "desc": "ã€ŒCollarç­–ç•¥ï¼šå¦‚ä½•ä¿è­·ä½ çš„è‚¡ç¥¨ç²åˆ©ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“—"
        }
    ],
    "è³‡æ–™éŠæˆ²ç¸½è¦½": [
        {
            "title": "æœªä¾†AIé‡åŒ–æŠ•è³‡ç†è«–",
            "url": "https://aifinsys.com/er/aiq/",
            "desc": "ã€Œæœªä¾†AIé‡åŒ–æŠ•è³‡ç†è«–ã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“’"
        },
        {
            "title": "é‡åŒ–æŠ•è³‡ç†è«–æ¼”é€²èˆ‡æœªä¾†è¶¨å‹¢åˆ†æå ±å‘Š",
            "url": "https://aifinsys.com/er/qon/",
            "desc": "ã€Œé‡åŒ–æŠ•è³‡ç†è«–æ¼”é€²èˆ‡æœªä¾†è¶¨å‹¢åˆ†æå ±å‘Šã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“š"
        },
        {
            "title": "å…¨çƒè³‡æœ¬ç´€å…ƒï¼ˆCapital Epochï¼‰- Web Game",
            "url": "https://aifinsys.com/g1/",
            "desc": "ã€Œå…¨çƒè³‡æœ¬ç´€å…ƒï¼ˆCapital Epochï¼‰- Web Gameã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "âœ¨"
        },
        {
            "title": "æ·¨é›¶è³½å±€ï¼šç¶ è‰²ä½µè³¼ - Web Game",
            "url": "https://aifinsys.com/gesg/",
            "desc": "ã€Œæ·¨é›¶è³½å±€ï¼šç¶ è‰²ä½µè³¼ - Web Gameã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“‰"
        },
        {
            "title": "æ“ç›¤å¤§å¸« - Web Game",
            "url": "https://aifinsys.com/g2/b1",
            "desc": "ã€Œæ“ç›¤å¤§å¸« - Web Gameã€çš„äº’å‹•å¼æ•™å­¸èˆ‡å·¥å…·å¹³å°ã€‚",
            "thumb": "ğŸ“Š"
        }
    ]
} /* [[DATA_END]] */;

  let DATA = {};
  let currentCategory = "";
  let isAdminMode = false;

  // åˆå§‹åŒ–ï¼šå¾ LocalStorage è®€å–æˆ–ä½¿ç”¨åŸå§‹è³‡æ–™
  function initData() {
    const stored = localStorage.getItem(STORAGE_KEY);
    let valid = false;

    if (stored) {
      try {
        const parsed = JSON.parse(stored);
        // å¼·åˆ¶æª¢æŸ¥è³‡æ–™çµæ§‹ï¼šå¿…é ˆæ˜¯ç‰©ä»¶ï¼Œä¸”ä¸æ˜¯é™£åˆ—ï¼Œä¸”æœ‰è³‡æ–™
        if (parsed && typeof parsed === 'object' && !Array.isArray(parsed) && Object.keys(parsed).length > 0) {
          DATA = parsed;
          valid = true;
        } else {
          console.warn("åµæ¸¬åˆ°å¿«å–è³‡æ–™çµæ§‹ææ¯€æˆ–ç‰ˆæœ¬ä¸ç¬¦ï¼Œå°‡é‡ç½®ã€‚");
        }
      } catch(e) {
        console.error("è³‡æ–™è§£æå¤±æ•—ï¼Œå°‡é‡ç½®ã€‚", e);
      }
    } 

    if (!valid) {
      resetToSource();
    }
    
    // ç¢ºä¿ currentCategory æœ‰æ•ˆ
    const keys = Object.keys(DATA);
    if (!DATA[currentCategory] || !keys.includes(currentCategory)) {
      currentCategory = keys[0] || ""; // è‹¥å®Œå…¨ç„¡è³‡æ–™å‰‡ç‚ºç©ºå­—ä¸²
    }
  }

  // é‡ç½®ç‚ºåŸå§‹çœŸå¯¦è³‡æ–™
  function resetToSource() {
    DATA = JSON.parse(JSON.stringify(REAL_DATA_SOURCE)); // Deep copy
    saveData();
  }

  // å„²å­˜è‡³ LocalStorage
  function saveData() {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(DATA));
  }

  /* -------------------------------------------
     2. Rendering Logic
     ------------------------------------------- */
  const categoryListEl = document.getElementById('categoryList');
  const cardGridEl = document.getElementById('cardGrid');
  const categoryTitleEl = document.getElementById('categoryTitle');
  const adminPanelEl = document.getElementById('adminPanel');

  // æ¸²æŸ“å´é‚Šæ¬„åˆ†é¡
  function renderCategories() {
    categoryListEl.innerHTML = '';
    Object.keys(DATA).forEach(cat => {
      const count = DATA[cat].length;
      const li = document.createElement('li');
      li.innerHTML = `<span>${cat}</span> <span class="badge">${count}</span>`;
      if (cat === currentCategory) li.classList.add('active');
      
      li.addEventListener('click', () => {
        currentCategory = cat;
        // æ¸…é™¤æœå°‹æ¡†
        document.getElementById('globalSearch').value = '';
        renderCategories(); // Re-render to update active class
        renderCards(DATA[cat]);
        
        // Mobile UX: Scroll to active item (optional, basic logic)
        if(window.innerWidth < 900) {
          li.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
        }
      });
      categoryListEl.appendChild(li);
    });
  }

  // æ¸²æŸ“å¡ç‰‡
  function renderCards(list, isSearchResult = false) {
    cardGridEl.innerHTML = '';
    
    // Safety check for null/undefined list
    if (!list) list = [];

    const titleText = isSearchResult 
      ? `æœå°‹çµæœï¼ˆå…± ${list.length} é …ï¼‰` 
      : `${currentCategory || 'æœªé¸æ“‡åˆ†é¡'}ï¼ˆå…± ${list.length} é …ï¼‰`;
    categoryTitleEl.textContent = titleText;

    if (list.length === 0) {
      cardGridEl.innerHTML = `<div class="muted" style="grid-column:1/-1; text-align:center; padding:40px; color:var(--muted);">
        ${isSearchResult ? 'æ‰¾ä¸åˆ°ç¬¦åˆçš„è³‡æ–™ã€‚' : 'æ­¤åˆ†é¡ç›®å‰æ²’æœ‰é …ç›®ã€‚'}
        <br>${isAdminMode ? 'è«‹ä½¿ç”¨ä¸Šæ–¹è¡¨å–®æ–°å¢ã€‚' : (isSearchResult ? '' : 'åˆ‡æ›è‡³ã€Œç®¡ç†æ¨¡å¼ã€å¯æ–°å¢è³‡æ–™ã€‚')}
      </div>`;
      return;
    }

    list.forEach((item, index) => {
      // è™•ç†ç¸®åœ–é¡¯ç¤ºé‚è¼¯
      const isUrl = item.thumb && (item.thumb.startsWith('http') || item.thumb.startsWith('data:image'));
      let imgHtml = '';
      if (isUrl) {
        // ä½¿ç”¨ onerror æä¾›åœ–ç‰‡è¼‰å…¥å¤±æ•—æ™‚çš„å¾Œå‚™ Emoji
        imgHtml = `<img class="card-img" src="${item.thumb}" alt="icon" onerror="this.style.display='none';this.nextElementSibling.style.display='flex'">
                   <div class="card-img emoji-icon" style="display:none">ğŸ“„</div>`;
      } else {
        imgHtml = `<div class="card-img emoji-icon">${item.thumb || 'ğŸ“„'}</div>`;
      }
      
      const card = document.createElement('div');
      card.className = 'card';
      
      const checkboxHtml = (!isSearchResult) 
        ? `<input type="checkbox" class="del-check" data-idx="${index}">` 
        : '';

      const categoryTag = isSearchResult ? `<span style="font-size:0.75em; color:var(--primary); background:#eff6ff; padding:2px 6px; border-radius:4px; margin-left:6px;">${item.category}</span>` : '';

      card.innerHTML = `
        ${checkboxHtml}
        <div class="card-body">
          ${imgHtml}
          <div class="card-content">
            <h4>${item.title}${categoryTag}</h4>
            <p>${item.desc || 'ç„¡æè¿°'}</p>
          </div>
        </div>
        <div class="card-foot">
          <button class="btn primary" style="flex:1" onclick="window.open('${item.url}','_blank')">å‰å¾€</button>
          <button class="btn ghost" onclick="copyToClipboard('${item.url}')">è¤‡è£½</button>
        </div>
      `;
      cardGridEl.appendChild(card);
    });
  }

  /* -------------------------------------------
     3. Interactions & Features
     ------------------------------------------- */
  
  // è¤‡è£½é€£çµ
  function copyToClipboard(text) {
    if (navigator.clipboard) {
      navigator.clipboard.writeText(text).then(() => alert('é€£çµå·²è¤‡è£½ï¼')).catch(err => prompt('è«‹æ‰‹å‹•è¤‡è£½', text));
    } else {
      prompt('è«‹æ‰‹å‹•è¤‡è£½', text);
    }
  }

  // æœå°‹åŠŸèƒ½
  document.getElementById('globalSearch').addEventListener('input', (e) => {
    const q = e.target.value.trim().toLowerCase();
    
    // å¦‚æœæœå°‹ç‚ºç©ºï¼Œå›å¾©é¡¯ç¤ºç•¶å‰åˆ†é¡
    if (!q) {
      renderCategories();
      renderCards(DATA[currentCategory]);
      return;
    }

    // è·¨åˆ†é¡æœå°‹
    let results = [];
    Object.keys(DATA).forEach(cat => {
      // Safety check: DATA[cat] must be array
      if(Array.isArray(DATA[cat])) {
        DATA[cat].forEach(item => {
          if ((item.title + item.desc).toLowerCase().includes(q)) {
            results.push({ ...item, category: cat });
          }
        });
      }
    });
    
    document.querySelectorAll('nav.side li').forEach(li => li.classList.remove('active'));
    renderCards(results, true);
  });

  // åˆ‡æ›ç®¡ç†æ¨¡å¼
  document.getElementById('btnToggleAdmin').addEventListener('click', () => {
    isAdminMode = !isAdminMode;
    document.body.classList.toggle('admin-mode', isAdminMode);
    
    const btn = document.getElementById('btnToggleAdmin');
    if (isAdminMode) {
      btn.classList.add('active');
      btn.style.background = '#e0e7ff';
      btn.style.color = 'var(--primary)';
      adminPanelEl.classList.add('show');
      document.getElementById('globalSearch').value = '';
      renderCategories();
      renderCards(DATA[currentCategory]);
    } else {
      btn.classList.remove('active');
      btn.style.background = '';
      btn.style.color = '';
      adminPanelEl.classList.remove('show');
    }
  });

  // æ–°å¢é …ç›®
  document.getElementById('btnAdd').addEventListener('click', () => {
    const title = document.getElementById('newTitle').value.trim();
    const url = document.getElementById('newUrl').value.trim();
    const desc = document.getElementById('newDesc').value.trim();
    const thumb = document.getElementById('newThumb').value.trim();

    if (!title || !url) {
      alert('ã€Œæ¨™é¡Œã€èˆ‡ã€Œç¶²å€ã€ç‚ºå¿…å¡«æ¬„ä½ï¼');
      return;
    }

    if (!DATA[currentCategory]) DATA[currentCategory] = [];

    DATA[currentCategory].unshift({ 
      title: title,
      url: url,
      desc: desc || 'è‡ªè¨‚æ–°å¢é …ç›®',
      thumb: thumb
    });

    saveData();
    renderCategories();
    renderCards(DATA[currentCategory]);
    
    // æ¸…ç©ºè¼¸å…¥æ¡†
    document.getElementById('newTitle').value = '';
    document.getElementById('newUrl').value = '';
    document.getElementById('newDesc').value = '';
    document.getElementById('newThumb').value = '';
  });

  // åˆªé™¤å‹¾é¸é …ç›®
  document.getElementById('btnDeleteSelected').addEventListener('click', () => {
    const checks = document.querySelectorAll('.del-check:checked');
    if (checks.length === 0) {
      alert('è«‹å…ˆå‹¾é¸è¦åˆªé™¤çš„å¡ç‰‡ (éœ€åœ¨ç®¡ç†æ¨¡å¼ä¸‹)');
      return;
    }
    
    if (!confirm(`ç¢ºå®šè¦åˆªé™¤é€™ ${checks.length} å€‹é …ç›®å—ï¼Ÿ`)) return;

    const indicesToDelete = Array.from(checks).map(c => parseInt(c.dataset.idx)).sort((a, b) => b - a);
    
    indicesToDelete.forEach(idx => {
      DATA[currentCategory].splice(idx, 1);
    });

    saveData();
    renderCategories();
    renderCards(DATA[currentCategory]);
  });

  // é‡è¨­è³‡æ–™
  document.getElementById('btnReset').addEventListener('click', () => {
    if (confirm('ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰è‡ªè¨‚è³‡æ–™ï¼Œé‡ç½®ç‚ºç³»çµ±åŸå§‹å®Œæ•´è³‡æ–™å—ï¼Ÿ\næ­¤å‹•ä½œå°‡æ¸…é™¤æ‚¨æ–°å¢çš„é …ç›®ã€‚')) {
      resetToSource();
      renderCategories();
      renderCards(DATA[currentCategory]);
      if(isAdminMode) document.getElementById('btnToggleAdmin').click(); // Exit admin mode
    }
  });

  // â˜…â˜…â˜… ä¸€éµç”Ÿæˆç¨ç«‹ HTML åŠŸèƒ½ â˜…â˜…â˜…
  document.getElementById('btnExportHtml').addEventListener('click', () => {
    if (!confirm('å³å°‡ç”Ÿæˆä¸€å€‹åŒ…å«ç›®å‰æ‰€æœ‰è³‡æ–™ï¼ˆå«æ‚¨å‰›æ–°å¢çš„ï¼‰çš„å…¨æ–° HTML æª”æ¡ˆã€‚\n\nä¸‹è¼‰å¾Œï¼Œè©²æª”æ¡ˆå°‡å…§å»ºæœ€æ–°è³‡æ–™ï¼Œä¸éœ€ä¾è³´ç€è¦½å™¨æš«å­˜ã€‚')) return;

    const currentDataJson = JSON.stringify(DATA, null, 2);
    let htmlContent = document.documentElement.outerHTML;

    // æ¸…ç†å‹•æ…‹ç”¢ç”Ÿçš„ DOM
    htmlContent = htmlContent.replace(/<ul id="categoryList">[\s\S]*?<\/ul>/, '<ul id="categoryList"></ul>');
    htmlContent = htmlContent.replace(/<div id="cardGrid" class="grid">[\s\S]*?<\/div>/, '<div id="cardGrid" class="grid"></div>');

    // æ¸…ç† UI ç‹€æ…‹
    htmlContent = htmlContent.replace(/class="[^"]*admin-mode[^"]*"/, '');
    htmlContent = htmlContent.replace(/id="adminPanel" class="[^"]*show[^"]*"/, 'id="adminPanel"');
    
    // æ›¿æ›çœŸå¯¦è³‡æ–™
    const dataRegex = /\/\* \[\[DATA_START\]\] \*\/[\s\S]*?\/\* \[\[DATA_END\]\] \*\//;
    const newDataBlock = `/* [[DATA_START]] */ ${currentDataJson} /* [[DATA_END]] */`;
    
    htmlContent = htmlContent.replace(dataRegex, newDataBlock);

    // è§¸ç™¼ä¸‹è¼‰
    const blob = new Blob([htmlContent], {type: 'text/html'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'èª²ç¨‹è³‡æ–™åˆ†é¡ç€è¦½å™¨_Fixed.html';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
  });

  /* -------------------------------------------
     4. Boot
     ------------------------------------------- */
  window.addEventListener('DOMContentLoaded', () => {
    initData();
    renderCategories();
    renderCards(DATA[currentCategory]);
  });

</script>
</body>
</html>
